
<div class="form-group">
  <label class="form-control" id="codigo" placeholder="Nombre de la Institución" data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese el nombre de la Institución." data-original-title="Nombre Institucion">
	Codigo Usado: {{ codigo }}
  </label>
</div>
<!--NOMBRE-->
<div class="form-group">
  <label for="nombreInstitucion">Nombre de la instituci&oacute;n</label>
  <label class="form-control" id="nombreInstitucion" placeholder="Nombre de la Institución" data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese el nombre de la Institución." data-original-title="Nombre Institucion">
	{{ insti }}
  </label>
</div>
<!--SIGLA-->
<div class="form-group">
  <label for="siglaInstitucion">Siglas</label>
  <input type="text" class="form-control" id="siglaInstitucion" name="siglaInstitucion" placeholder="Siglas/Nombre abreviado"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese las siglas de la Institucion" data-original-title="Nombre abreviado" onkeypress="return validarLetras(event)" required>
</div>
<!--DESCRIPCION-->
<div class="form-group">
  <label for="descInstitucion">Descripci&oacute;n</label>
  <input type="text" class="form-control" id="descInstitucion" name="descInstitucion" placeholder="Descripcion de la Institucion"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese las descripcion de la Institucion" data-original-title="Descripcion" required>
</div>
<!--MISION-->
<div class="form-group">
  <label for="misionInstitucion">Misi&oacute;n</label>
  <input type="text" class="form-control" id="misionInstitucion" name="misionInstitucion" placeholder="Misión"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese la misión de la Institución" data-original-title="Misión" required>
</div>
<!--PAIS-->
<div class="form-group">
	<label for="pais">Pa&iacute;s</label>
    <select class="form-control" name="paisInstitucion" id="paisInstitucion" required>
		<optgroup label="Pais">
			{%for pais in paises%}
				<option value="{{pais.id}}">{{pais.name}}</option>
			{%endfor%}
		</optgroup>
	</select>
</div>
<!--CIUDAD-->
<div class="form-group">
	<label for="ciudad">Ciudad</label>
    <select class="form-control" name="ciudadInstitucion" id="ciudadInstitucion" required>
        <optgroup id="optsCiudades" label="Ciudad">
			{%for ciudad in ciudades%}
				<option value="{{ciudad.id}}">{{ciudad.name}}</option>
			{%endfor%}
		</optgroup>
	</select>
</div>
<!--RECURSOS-->

<div class="form-group">
  <label for="recursosInstitucion">Recursos ofrecidos</label>
  <input type="text" class="form-control" id="recursosInstitucion" name="recursosInstitucion" placeholder="Recursos Ofrecidos"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese los recursos que ofrece la Institución" data-original-title="Recursos Ofrecidos" required>
</div>
<!--CARGO-->
<div class="form-group">
  <label for="cargoInstitucion">Cargo</label>
  <input type="text" class="form-control" id="cargoInstitucion" name="cargoInstitucion" placeholder="Indique su cargo en la Institucion"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese su cargo en la Institución" data-original-title="Cargo" onkeypress="return validarLetras(event)" required>
</div>
<!--DESCRIPCION DE CARGO-->
<div class="form-group">
  <label for="cargoDescInstitucion">Descripci&oacute;n del cargo</label>
  <input type="text" class="form-control" id="cargoDescInstitucion" name="cargoDescInstitucion" placeholder="Indique de que se trata su cargo"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese de que se trata su cargo" data-original-title="Desc Cargo" required>
</div>
<!--TELEFONO-->
<div class="form-group">
  <label for="telefonoInstitucion">Tel&eacute;fono</label>
  <input type="tel" class="form-control" id="telefonoInstitucion" name="telefonoInstitucion" pattern="([0-9]{1,15})" placeholder="Telefono del Contacto"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese el telefono del contacto de la Institución" data-original-title="Telefono" onkeypress="return validarNumero(event);"  required>
</div>
<!--EMAIL-->
<div class="form-group">
  <label for="emailInstitucion">E-mail</label>
  <input type="email" class="form-control" id="emailInstitucion" name="emailInstitucion" pattern="[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}" placeholder="Email"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese el correo electronico de la Institución" data-original-title="Email" required>
</div>
<!--SITIO WEB-->
<div class="form-group">
  <label for="webInstitucion">Sitio web</label>
  <input type="text" class="form-control" id="webInstitucion" onblur="validarURL(this)" name="webInstitucion" placeholder="Dirección web"
		 data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese la dirección web de la Institución" data-original-title="Dirección Web" required>
</div>
<label for="logo">Logo</label>
<input type="file" name="logo" id="logo" data-toggle="popover" data-placement="left" data-trigger="focus" data-content="Ingrese logo de la Institución" data-original-title="Logo" onchange="readURL(this);" required>
<img id="blah" src="#" alt="your image" />

<div class="checkbox">
  <label>
	<input type="checkbox" required> Estoy de acuerdo con los <a href="#">Términos de servicio</a> y las
	  <a href="#">Politicas de Privacidad</a>
  </label>
</div>

<button id="continuar" type="submit" class="btn btn-green">Continuar</button>


<script type="text/javascript">
  function readURL(input) {
	if (input.files && input.files[0]) {
		var reader = new FileReader();

		reader.onload = function (e) {
			$('#blah')
				.attr('src', e.target.result)
				.width(200)
				.height(200);
		};

		reader.readAsDataURL(input.files[0]);
	}
  }

  $("#paisInstitucion").change(function () {
    console.log('hellou its me');
    console.log($("#paisInstitucion option:selected").val());
    $.ajax({
      type: "POST",
      url: "/getCiudades",
      data: {
          'csrfmiddlewaretoken' : $("input[name=csrfmiddlewaretoken]").val(),
          'paisId' : $("#paisInstitucion option:selected").val()
      },
      success: ciudadSuccess,
      dataType: 'html'
    });
    console.log('bye');
  });

  function ciudadSuccess(data, textStatus, jqXHR){
    $("#optsCiudades").html(data);
  }


  /*
Autor: Sixto Castro
Nombre de función: validarNumero
Parámetros: evento(e)
Salida:  Permite solo ingreso de números
Descripción: No permite el ingreso de letras

*/
	//Función que permite solo Números
	function validarNumero(e){

		var key = window.Event ? e.which : e.keyCode
        /*Edicion: Ray Montiel
          Descripcion: Se permite el caracter '+' para ingresar números por códigos de región, ejemplo: +593 123 456 789
        */
        return (key >= 48 && key <= 57 || key == 43)
	}



	 function validarLetras(e){
	   key = e.keyCode || e.which;
	   tecla = String.fromCharCode(key).toLowerCase();
	   letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
	   especiales = "8-37-39-46";

	   tecla_especial = false
	   for(var i in especiales){
			if(key == especiales[i]){
				tecla_especial = true;
				break;
			}
		}

		if(letras.indexOf(tecla)==-1 && !tecla_especial){
			return false;
		}
	}


	function validarURL (abc) {
		var string = abc.value;
		if (!~string.indexOf("http")){
			string = "http://" + string;
		}
		abc.value = string;
		return abc
	}




</script>